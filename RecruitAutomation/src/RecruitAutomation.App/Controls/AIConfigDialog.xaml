<Window x:Class="RecruitAutomation.App.Controls.AIConfigDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="配置AI API Key" Height="280" Width="450"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize"
        Background="#F5F5F5">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 标题 -->
        <TextBlock Grid.Row="0" Text="配置AI API Key" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,15"/>

        <!-- 提示信息 -->
        <Border Grid.Row="1" Background="#E3F2FD" CornerRadius="4" Padding="10" Margin="0,0,0,15">
            <StackPanel>
                <TextBlock Text="🤖 AI模式使用国内免费AI模拟人工操作，有效防止封号" 
                           TextWrapping="Wrap" Foreground="#1565C0"/>
                <TextBlock x:Name="txtProviderTip" Text="推荐使用智谱GLM-4-Flash，每月有免费额度" 
                           TextWrapping="Wrap" Foreground="#666" Margin="0,5,0,0" FontSize="12"/>
            </StackPanel>
        </Border>

        <!-- API Key输入 -->
        <StackPanel Grid.Row="2">
            <TextBlock Text="API Key：" Margin="0,0,0,5"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <PasswordBox x:Name="txtApiKey" Grid.Column="0" Height="32" Padding="8,0"
                             VerticalContentAlignment="Center"/>
                <Button Grid.Column="1" Content="👁" Width="32" Height="32" Margin="5,0,0,0"
                        Click="BtnTogglePassword_Click" ToolTip="显示/隐藏"/>
            </Grid>
            <TextBlock x:Name="txtApiKeyHint" Text="" Foreground="Gray" FontSize="11" Margin="0,5,0,0"/>
        </StackPanel>

        <!-- 获取API Key链接 -->
        <StackPanel Grid.Row="3" Margin="0,15,0,0">
            <TextBlock Text="如何获取API Key：" FontWeight="SemiBold" Margin="0,0,0,5"/>
            <TextBlock>
                <Hyperlink x:Name="linkZhipu" Click="Link_Click" Tag="https://open.bigmodel.cn/">
                    智谱AI开放平台（推荐，有免费额度）
                </Hyperlink>
            </TextBlock>
            <TextBlock>
                <Hyperlink x:Name="linkQwen" Click="Link_Click" Tag="https://dashscope.console.aliyun.com/">
                    阿里云通义千问
                </Hyperlink>
            </TextBlock>
            <TextBlock>
                <Hyperlink x:Name="linkKimi" Click="Link_Click" Tag="https://platform.moonshot.cn/">
                    Kimi开放平台
                </Hyperlink>
            </TextBlock>
        </StackPanel>

        <!-- 按钮 -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Content="取消" Width="80" Height="32" Click="BtnCancel_Click"/>
            <Button x:Name="btnSave" Content="保存" Width="80" Height="32" Margin="10,0,0,0"
                    Background="#2196F3" Foreground="White" BorderThickness="0"
                    Click="BtnSave_Click"/>
        </StackPanel>
    </Grid>
</Window>
